<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script type="module" src="getData.js"></script>
  <script type="module" src="updateData.js"></script>
  <link href="https://unpkg.com/tailwindcss@1.9.6/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/7aba9e0196.js" crossorigin="anonymous"></script>
</head>


<body class="container mx-auto p-4 flex flex-col gap-8 bg-gray-100">
  <!-- Header -->
  <div class="flex flex-col gap-2">
    <h1 class="text-3xl font-bold text-center">Sleep Quality Detector</h1>
    <h2 id="today-date" class="text-lg text-center">Today</h2>
  </div>

  <!-- Device Status -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <p class="text-xl font-bold col-span-1 sm:col-span-2">Device Status</p>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex justify-between items-center gap-4">
      <div class="flex flex-col">
        <p class="text-lg font-bold">ESP32 Sensor Node</p>
        <p class="text-sm">Measure: Heart Rate, Motion</p>
      </div>
      <div class="flex flex-row items-center gap-2 py-2 px-3 rounded-full border">
        <div id="esp32-status-indicator" class="h-3 w-3 bg-green-500 rounded-full"></div>
        <p id="esp32-status" class="font-semibold">Online</p>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex justify-between items-center gap-4">
      <div class="flex flex-col">
        <p class="text-lg font-bold">Raspberry Pi 5</p>
        <p class="text-sm">Measure: Sleep Posture, Brightness, Temperature, Humidity, Sound</p>
      </div>
      <div class="flex flex-row items-center gap-2 py-2 px-3 rounded-full border">
        <div id="raspberry-pi-5-status-indicator" class="h-3 w-3 bg-green-500 rounded-full"></div>
        <p id="raspberry-pi-5-status" class="font-semibold">Online</p>
      </div>
    </div>
  </div>

  <!-- Setting for light on & off time -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <p class="text-xl font-bold col-span-1 sm:col-span-2">Schedule Room Light</p>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex justify-between items-center gap-4">
      <div class="flex flex-col">
        <div class="flex flex-row gap-1 items-center">
          <i class="fa-solid fa-sun"></i>
          <p class="text-lg font-bold">Turn on</p>
        </div>
        <p class="text-sm">Set turn on time in the morning</p>
      </div>
      <div class="flex flex-row items-center gap-2 py-2 px-3 rounded-full border">
        <input type="time" id="light-on-time-data" step="60" class="font-semibold">
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex justify-between items-center gap-4">
      <div class="flex flex-col">
        <div class="flex flex-row gap-1 items-center">
          <i class="fa-solid fa-moon"></i>
          <p class="text-lg font-bold">Turn off</p>
        </div>
        <p class="text-sm">Set turn off time in the evening</p>
      </div>
      <div class="flex flex-row items-center gap-2 py-2 px-3 rounded-full border">
        <input type="time" id="light-off-time-data" step="60" class="font-semibold">
      </div>
    </div>
  </div>

  <!-- Overview status -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <p class="text-xl font-bold col-span-1 sm:col-span-2">Current</p>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2 col-span-1 sm:col-span-2">
      <div class="flex flex-col justify-between">
        <div class="flex item-center gap-4">
          <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
            <i class="fa-solid fa-moon" style="color: red"></i>
          </div>
          <div class="flex flex-col">
            <p class="text-lg font-bold">Sleep Quality</p>
            <p class="text-sm">Based on heart rate, motion, and environment factors</p>
          </div>
        </div>
        <div id="sleep-quality-chart" style="width:100%;max-width:320px" class="mx-auto"></div>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-heart" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Heart Rate</p>
          <p class="text-sm">Current BPM</p>
        </div>
      </div>
      <div>
        <span id="heart-rate-data" class="text-lg font-semibold">Loading</span>
        <span>BPM</span>
      </div>
      <p class="text-xs ">Healthy: 60-100 bpm</p>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-user" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Motion</p>
          <p class="text-sm">Tracks body movement during sleep</p>
        </div>
      </div>
      <div class="flex flex-col gap-2">
        <div>
          <span id="motion-data" class="text-lg font-semibold">Loading</span>
          <!-- <span>Events</span> -->
        </div>
        <p class="text-sm"></p>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-person" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Sleep Posture</p>
          <p class="text-sm">Tracks posture during sleep</p>
        </div>
      </div>
      <div class="flex flex-col gap-2">
        <div>
          <span id="posture-data" class="text-lg font-semibold">Loading</span>
          <!-- <span>Events</span> -->
        </div>
        <p class="text-sm"></p>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-adjust" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Room Light</p>
          <p class="text-sm">Room light current state</p>
        </div>
      </div>
      <div class="flex flex-col gap-2">
        <div>
          <span id="light-data" class="text-lg font-semibold">Loading</span>
          <!-- <span>Events</span> -->
        </div>
        <p class="text-sm"></p>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-lightbulb" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Brightness Level</p>
          <p class="text-sm">Room Brightness</p>
        </div>
      </div>
      <div>
        <span id="brightness-level" class="text-lg font-semibold">Loading</span>
        <span id="brightness-data" class="text-sm">Loading</span>
      </div>
      <p class="text-xs ">Comfort: less than or equal 3 lux</p>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-microphone" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Sound Level</p>
          <p class="text-sm">Snoring and Environmental Noise</p>
        </div>
      </div>
      <div>
        <span id="sound-level" class="text-lg font-semibold">Loading</span>
        <span id="sound-data" class="text-sm">Loading</span>
      </div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex item-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
          <i class="fa-solid fa-droplet" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Humidity</p>
          <p class="text-sm">Air Moisture</p>
        </div>
      </div>
      <div>
        <span id="humidity-data" class="text-lg font-semibold">Loading</span>
        <span>%</span>
      </div>
      <p class="text-xs ">Comfort: 40–60 %RH</p>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div class="flex items-center gap-4">
        <div class="w-10 h-10 bg-gray-100 rounded-2xl flex items-center justify-center">
          <i class="fa-solid fa-temperature-half" style="color: red"></i>
        </div>
        <div>
          <p class="text-lg font-bold">Temperature</p>
          <p class="text-sm">Room Temperature</p>
        </div>
      </div>
      <div>
        <span id="temperature-data" class="text-lg font-semibold">Loading</span>
        <span>°C</span>
      </div>
      <p class="text-xs ">Comfort: 24–28 °C</p>
    </div>
  </div>

  <!-- Live data; Chart -->
  <div class="flex flex-col gap-4">
    <div class="flex items-baseline gap-2">
      <p class="text-xl font-bold">Live & Historical Data</p>
      <p class="text-sm text-gray-600">( Last day )</p>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Heart Rate</p>
        <p class="text-sm">Beats per minute (bpm)</p>
      </div>
      <div id="heart-rate-chart" style="width:100%;max-width:800px;" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Motion</p>
        <p class="text-sm">Tracks body movement during sleep</p>
      </div>
      <div id="motion-chart" style="width:100%;max-width:800px" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Posture</p>
        <p class="text-sm">Body position during sleep</p>
      </div>
      <div id="posture-chart" style="width:100%;max-width:800px" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Brightness</p>
        <p class="text-sm">Ambient brightness</p>
      </div>
      <div id="brightness-chart" style="width:100%;max-width:800px" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Sound</p>
        <p class="text-sm">Snoring and Environmental Noise</p>
      </div>
      <div id="sound-chart" style="width:100%;max-width:800px;" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Humidity</p>
        <p class="text-sm">Relative humidity (%RH)</p>
      </div>
      <div id="humidity-chart" style="width:100%;max-width:800px" class="mx-auto"></div>
    </div>
    <div class="p-4 border border-gray-300 bg-white rounded-2xl flex flex-col gap-2">
      <div>
        <p class="text-lg font-bold">Temperature</p>
        <p class="text-sm">Ambient temperature (°C)</p>
      </div>
      <div id="temperature-chart" style="width:100%;max-width:800px" class="mx-auto"></div>
    </div>
  </div>

  <script type="module" src="updateSensorChart.js"></script>
  <script type="module" src="updatePostureChart.js"></script>
  <script type="module" src="updateSettingData.js"></script>
</body>


</html>